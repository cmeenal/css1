#include<stdio.h>
void main()
{
	int n;
	int c,k;
	int msg[512],a[512];
	int p;
	
	//accept input
	printf("Enter a number:\n");
	scanf("%d",&n);
	
	//convert decimal number to binary
	for(c=n-1;c>=0;c--)
	{
		k=n>>c;
		if(k&1)//store binary message in msg[] array
			msg[c]=1;
		else
			msg[c]=0;
	}//for
	
	//read in reverse order to get binary number
	for(c=n-1,k=0;c>=0;c--,k++)//store binary number, in correct order, in a[] array
		a[k]=msg[c];
	
	//print the binary number(message)
	printf("%d bits long binary number is:\n",n);
	for(c=0;c<n;c++)
		printf("%d",a[c]);
	
	//calculate padding length
	p=512-64-n;//512=total length of output message, 64=length of binary message
	printf("\nPadding length=%d\n",p);
	
	//add 1st digit as 1
	a[n]=1;
	printf("Before appending 0s, message is:\n");
	for(c=0;c<=n;c++)//0 to n is binary message. nth bit is padding 1
		printf("%d",a[c]);
	
	//add remaining digits, in padding length, as 0
	for(c=n+1;c<n+p;c++)//from n+1 to n+p bit, padding of 0s
		a[c]=0;
		
	printf("\n\nPadding in MD5\nAfter padding, message is:\n");
	for(c=0;c<n+p;c++)//message length: from 0 to n+p bit
		printf("%d",a[c]);
	
}//main

/*OUTPUT
user@user:~$ ./a.out
Enter a number:
12
12 bits long binary number is:
000000001100
Padding length=436
Before appending 0s, message is:
0000000011001

Padding in MD5
After padding, message is:
0000000011001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000user@user:~$ ./a.out
Enter a number:
64
64 bits long binary number is:
0000000000000000000000000100000000000000000000000000000001000000
Padding length=384
Before appending 0s, message is:
00000000000000000000000001000000000000000000000000000000010000001

Padding in MD5
After padding, message is:
0000000000000000000000000100000000000000000000000000000001000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
user@user:~$ ./a.out
Enter a number:
5
5 bits long binary number is:
00101
Padding length=443
Before appending 0s, message is:
001011

Padding in MD5
After padding, message is:
0010110000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
*/
